<section class="page-hero">
  <div class="hero-copy">
    <p class="eyebrow">{{ craftedByLabel }}</p>
    <h1>ng2-idle-timeout Reference</h1>
    <p class="lead">
      These docs combine architectural guidance with hands-on recipes so your Angular app can orchestrate idle,
      countdown, and expiry transitions across every tab. Explore the playground in parallel to validate scenarios
      end-to-end.
    </p>
    <div class="hero-actions">
      <a class="btn btn-primary rounded-pill" href="#quick-start">Get started</a>
      <a class="btn btn-outline-primary rounded-pill" routerLink="/playground">Open playground</a>
    </div>
    <div class="badge-strip">
      <span *ngFor="let badge of heroBadges" class="badge bg-light text-dark border">{{ badge }}</span>
    </div>
  </div>
  <div class="hero-card card shadow-sm">
    <div class="card-body">
      <h5 class="card-title">What you'll cover</h5>
      <ul class="list-unstyled">
        <li><i class="bi bi-check-circle-fill text-success"></i> End-to-end architecture, state machine, and timing anatomy.</li>
        <li><i class="bi bi-check-circle-fill text-success"></i> Configuration cheat sheets with copy-paste snippets.</li>
        <li><i class="bi bi-check-circle-fill text-success"></i> Service APIs, hooks, and integration patterns ready for production.</li>
      </ul>
    </div>
  </div>
</section>

<hr class="section-divider" />

<section class="docs-content">
  <article class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">On this page</h2>
      <nav>
        <ul class="nav-list">
          <li *ngFor="let link of sectionNav">
            <a [attr.href]="link.href">{{ link.label }}</a>
          </li>
        </ul>
      </nav>
    </div>
  </article>

  <article id="overview" class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">1. Overview & Concepts</h2>
      <p>Key differentiators that make the engine suitable for enterprise timeout policies:</p>
      <ul class="list-bullet">
        <li *ngFor="let highlight of overviewHighlights">{{ highlight }}</li>
      </ul>
      <div class="code-block">
        <pre><code>{{ architectureDiagram }}</code></pre>
      </div>
      <table class="table table-sm compat-table">
        <thead>
          <tr>
            <th>Package</th>
            <th>Angular</th>
            <th>Node</th>
            <th>RxJS</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of compatibilityMatrix">
            <th scope="row">{{ row.package }}</th>
            <td><code>{{ row.angular }}</code></td>
            <td><code>{{ row.node }}</code></td>
            <td><code>{{ row.rxjs }}</code></td>
          </tr>
        </tbody>
      </table>
    </div>
  </article>

  <article id="quick-start" class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">2. Quick Start</h2>
      <p>Install the package, generate providers, and bootstrap the service.</p>
      <div class="command-list">
        <div *ngFor="let cmd of installCommands" class="command">
          <code>{{ cmd }}</code>
          <button type="button" class="btn btn-sm btn-outline-secondary" (click)="copy(cmd)">
            <i class="bi bi-clipboard"></i>
            Copy
          </button>
        </div>
      </div>
      <div class="code-block">
        <pre><code>{{ providerSnippet }}</code></pre>
      </div>
      <div class="code-block">
        <pre><code>{{ configSnippet }}</code></pre>
      </div>
      <p class="helper">Call <code>sessionTimeout.start()</code> once shell-level services are initialised to persist the first snapshot.</p>
    </div>
  </article>

  <article id="configuration" class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">3. Configuration Guide</h2>
      <p>Understand the knobs that shape idle and countdown behaviour.</p>
      <table class="table table-sm config-table">
        <thead>
          <tr>
            <th>Key</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let option of configOptions">
            <th scope="row"><code>{{ option.key }}</code></th>
            <td><code>{{ option.defaultValue }}</code></td>
            <td>{{ option.description }}</td>
          </tr>
        </tbody>
      </table>
      <div class="code-block">
        <pre><code>{{ timingDiagram }}</code></pre>
      </div>
      <div class="preset-grid">
        <div class="preset" *ngFor="let preset of timingPresets">
          <h4>{{ preset.name }}</h4>
          <p>{{ preset.description }}</p>
        </div>
      </div>
    </div>
  </article>

  <article id="api" class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">4. Service & API Reference</h2>
      <h3 class="section-heading">SessionTimeoutService methods</h3>
      <table class="table table-sm service-table">
        <thead>
          <tr>
            <th>Method</th>
            <th>Signature</th>
            <th>Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let method of serviceMethods">
            <th scope="row">{{ method.name }}</th>
            <td><code>{{ method.signature }}</code></td>
            <td>{{ method.description }}</td>
          </tr>
        </tbody>
      </table>

      <h3 class="section-heading">Signals & streams</h3>
      <table class="table table-sm signal-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Emits</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let signal of signalRows">
            <th scope="row">{{ signal.name }}</th>
            <td><code>{{ signal.type }}</code></td>
            <td>{{ signal.description }}</td>
          </tr>
        </tbody>
      </table>

      <h3 class="section-heading">Tokens, hooks, supporting providers</h3>
      <table class="table table-sm token-table">
        <thead>
          <tr>
            <th>Token / helper</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let token of tokenRows">
            <th scope="row">{{ token.name }}</th>
            <td><code>{{ token.type }}</code></td>
            <td>{{ token.description }}</td>
          </tr>
        </tbody>
      </table>

      <h3 class="section-heading">Lifecycle events</h3>
      <table class="table table-sm event-table">
        <thead>
          <tr>
            <th>Event</th>
            <th>When it fires</th>
            <th>Metadata highlights</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let event of eventRows">
            <th scope="row">{{ event.type }}</th>
            <td>{{ event.when }}</td>
            <td>{{ event.meta }}</td>
          </tr>
        </tbody>
      </table>

      <p class="helper">Provide <code>SESSION_TIMEOUT_CONFIG</code> early, share a <code>storageKeyPrefix</code> across tabs, and plug analytics or logout flows into <code>SESSION_TIMEOUT_HOOKS</code> when <code>Expired</code> fires.</p>
    </div>
  </article>

  <article id="recipes" class="card docs-card shadow-sm">
    <div class="card-body">
      <h2 class="card-title">5. Recipes & Integration Guides</h2>

      <h3 class="section-heading">UI patterns</h3>
      <div class="recipe-grid">
        <div class="recipe-card" *ngFor="let recipe of uiPatterns">
          <h4>{{ recipe.title }}</h4>
          <p>{{ recipe.description }}</p>
        </div>
      </div>

      <h3 class="section-heading">Cross-tab & multi-device</h3>
      <ul class="list-bullet">
        <li *ngFor="let tip of crossTabTips">{{ tip }}</li>
      </ul>

      <h3 class="section-heading">HTTP & server coordination</h3>
      <ul class="list-bullet">
        <li *ngFor="let tip of httpTips">{{ tip }}</li>
      </ul>

      <h3 class="section-heading">Custom activity & instrumentation</h3>
      <ul class="list-bullet">
        <li *ngFor="let tip of customActivityTips">{{ tip }}</li>
      </ul>

      <h3 class="section-heading">Maintainer scripts</h3>
      <ul class="script-list">
        <li *ngFor="let script of scripts">
          <code>{{ script.command }}</code>
          <span>{{ script.description }}</span>
        </li>
      </ul>
    </div>
  </article>
</section>
